<!DOCTYPE html>
<html>

<head>
    <title>Seeker</title>
    <script src="jquery.min.js"></script>
    <script src="arbor-tween.js"></script>
    <script src="arbor.js"></script>
    <script src="graph.js"></script>
</head>

<body>

    <!-- <script src="graph.js"></script> -->

    <canvas id="viewport" width="800" height="600"></canvas>

    <script>
        $(document).ready(function () {
            jQuery.ajax({
                url: 'http://127.0.0.1:5000/graph/clean',
                success: function (result) {
                    window.responseGraph = result.graph.arcList;
                    // Insert each element of response graph to canvas graph
                    responseGraph.forEach(element => {
                        if(element.begin != element.end){
                            graph.addEdge(element.begin.toString(), element.end.toString());
                        }
                    });
                }
            });
            var data = {
                nodes: {
                    0: {
                        "color": "rgb(254,243,54)",
                        "label": "0",
                        "shape": "dot"
                    },
                    1: {
                        "color": "rgb(254,243,54)",
                        "label": "1",
                        "shape": "dot"
                    },
                    2: {
                        "color": "rgb(254,243,54)",
                        "label": "2",
                        "shape": "dot"
                    }
                },
                edges: {
                    0: {
                        1: {}
                    },
                    1: {
                        2: {}
                    },
                    2: {
                        3: {}
                    }
                }
            };
            graph.graft(data);
        });
        function tratarRetorno() {
            // window.response = $.get('http://127.0.0.1:5000/graph/clean');
        }

    </script>
    <button onclick="tratarRetorno()">Get Graph</button>
</body>

</html>